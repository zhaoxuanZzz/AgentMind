# 更新日志

本文件记录Agent System的所有重要变更。

## [1.1.0] - 2025-10-26

### 新增功能

#### 提示词管理系统 📝
- ✨ 提示词卡片创建、编辑、删除功能
- ✨ 支持按分类筛选（商业/技术/分析/创意）
- ✨ 提示词快速应用到对话中
- ✨ 使用阿里百炼 text-embedding-v3 向量化存储
- ✨ 支持标签管理和语义搜索
- 📚 详细的提示词管理指南文档

#### Agent工具扩展 🔧
- ✨ 集成Tavily联网搜索工具
- ✨ 网页内容抓取工具（BeautifulSoup）
- ✨ PDF文档解析工具（PyPDF）
- ✨ 知识库检索工具
- ✨ 增强型计算器工具
- 🤖 Agent自动根据问题选择合适的工具

#### 模型选择 🎯
- ✨ 支持 qwen3-max 和 qwen3-vl-plus 模型切换
- ✨ 对话页面实时选择LLM模型
- ✨ 阿里百炼 Embedding 模型集成
- 🔄 动态加载可用模型列表

#### 界面优化 🎨
- ✨ 全新三栏式布局设计
  - 左侧：对话历史记录
  - 中间：主对话区域
  - 右侧：知识卡片配置
- ✨ **工具调用可视化展示**
  - 折叠面板显示工具使用情况
  - 时间线展示工具调用顺序
  - 详细显示每个工具的输入和输出
  - 工具图标和中文名称映射
- ✨ 精美的渐变背景动画
- ✨ 流畅的消息动画效果
- ✨ 玻璃态卡片设计（Glassmorphism）
- ✨ 提示词卡片悬停效果
- ✨ 响应式侧边栏

### 改进

#### 后端
- 🔧 优化知识服务，支持提示词专用集合
- 🔧 改进Agent系统提示词，更清晰的工具使用说明
- 🔧 更新API Schema，支持模型配置参数
- 🔧 增强ChromaDB健康检查机制

#### 前端
- 🔧 重构ChatPage组件，采用模块化布局
- 🔧 添加对话历史管理功能
- 🔧 优化滚动条样式
- 🔧 改进加载状态显示
- 🔧 增强错误处理和用户反馈

#### 文档
- 📚 新增《提示词管理指南》
- 📚 更新README，添加新功能说明
- 📚 更新环境变量配置说明
- 📚 添加Tavily API配置指南

### 修复

- 🐛 修复ChromaDB容器健康检查失败问题
- 🐛 解决Python依赖冲突（langchain, httpx等）
- 🐛 修复前端TypeScript类型错误
- 🐛 优化知识卡片加载失败时的降级处理

### 依赖更新

```
新增:
- tavily-python>=0.5.0
- beautifulsoup4>=4.12.0
- pypdf>=5.1.0
- langchain-tavily>=0.1.0

更新:
- langchain>=0.3.0
- langchain-community>=0.3.0
- langchain-openai>=0.2.0
```

## [1.0.0] - 2024-10-24

### 新增功能

#### 核心功能
- ✨ 实现基于LangChain的AI对话功能
- ✨ 集成ChromaDB向量数据库，支持知识库检索
- ✨ 实现任务自动规划功能
- ✨ 多轮对话支持，上下文记忆

#### 知识库管理
- ✨ 知识库创建、删除、查询
- ✨ 文档添加和管理
- ✨ 语义搜索和相似度评分
- ✨ 支持自定义metadata

#### 任务管理
- ✨ 任务创建和状态管理
- ✨ AI自动生成执行计划
- ✨ 任务步骤分解和跟踪
- ✨ 快速规划功能

#### 用户界面
- ✨ 现代化的React前端界面
- ✨ 基于Ant Design的UI组件
- ✨ 响应式设计，支持移动端
- ✨ 实时消息显示

#### 部署和运维
- ✨ Docker容器化部署
- ✨ Docker Compose一键部署
- ✨ 自动健康检查
- ✨ Linux/macOS/Windows部署脚本
- ✨ 完整的部署文档

### 技术栈

#### 后端
- FastAPI 0.104.1
- LangChain 0.1.0
- ChromaDB 0.4.18
- PostgreSQL 15
- Redis 7
- SQLAlchemy 2.0.23

#### 前端
- React 18.2.0
- TypeScript 5.2.2
- Ant Design 5.11.5
- Vite 5.0.8
- Axios 1.6.2

#### 基础设施
- Docker 20.10+
- Docker Compose 2.0+
- Nginx (Alpine)

### 文档
- 📚 完整的README.md
- 📚 详细的DEPLOYMENT.md
- 📚 用户操作手册USER_GUIDE.md
- 📚 更新日志CHANGELOG.md

### 已知问题
- 暂不支持文件上传功能
- 暂不支持多用户和权限管理
- 搜索结果暂不支持高亮显示

### 计划功能 (v1.1.0)

- [ ] 支持文件上传（PDF、Word、TXT等）
- [ ] 用户认证和权限管理
- [ ] 对话导出功能
- [ ] 知识库批量导入
- [ ] 更多的Agent工具
- [ ] 搜索结果高亮
- [ ] 支持更多的LLM模型
- [ ] 性能监控和分析
- [ ] WebSocket实时通信

---

## 版本号说明

格式：`主版本号.次版本号.修订号`

- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

## 贡献者

感谢所有为此项目做出贡献的开发者！

---

**持续更新中...** 🚀

