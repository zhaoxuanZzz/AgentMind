# Agent System 用户操作手册

欢迎使用Agent System！本手册将帮助您快速上手系统的各项功能。

## 目录

- [系统概述](#系统概述)
- [快速开始](#快速开始)
- [功能详解](#功能详解)
  - [AI对话](#ai对话)
  - [知识库管理](#知识库管理)
  - [任务规划](#任务规划)
- [高级功能](#高级功能)
- [常见问题](#常见问题)
- [最佳实践](#最佳实践)

## 系统概述

Agent System是一个智能助手系统，提供以下核心功能：

- 🤖 **AI对话**: 与AI助手进行自然语言交互
- 📚 **知识库**: 构建和检索专属知识库
- 🎯 **任务规划**: AI自动分解和规划复杂任务

## 快速开始

### 访问系统

部署完成后，在浏览器中访问：http://localhost:8080

首页将显示三个主要功能模块，点击左侧菜单可以切换。

### 界面布局

```
┌─────────────┬─────────────────────────────────────┐
│             │         顶部导航栏                   │
│   侧边栏    ├─────────────────────────────────────┤
│             │                                      │
│ - AI对话    │                                      │
│ - 知识库    │         主内容区域                   │
│ - 任务规划  │                                      │
│             │                                      │
└─────────────┴─────────────────────────────────────┘
```

## 功能详解

### AI对话

#### 基础对话

1. **开始对话**
   - 点击左侧菜单的"AI对话"
   - 在底部输入框中输入您的问题
   - 点击"发送"按钮或按Enter键发送

2. **对话技巧**
   - 问题要清晰明确
   - 可以进行多轮对话，AI会记住上下文
   - 支持Shift+Enter换行

#### 使用知识库增强

1. **选择知识库**
   - 在对话页面顶部的下拉菜单中选择知识库
   - AI会自动从知识库中检索相关信息
   - 回答会更加准确和专业

2. **示例场景**
   ```
   场景1: 技术支持
   - 创建"产品FAQ"知识库
   - 添加常见问题和解答
   - 对话时选择此知识库
   - AI会基于FAQ回答用户问题

   场景2: 学习助手
   - 创建"学习资料"知识库
   - 添加课程笔记、书籍内容
   - AI可以帮助理解和回答相关问题
   ```

#### 对话管理

- **查看历史**: 点击"对话历史"查看之前的对话
- **清空对话**: 点击"清空对话"开始新的对话
- **删除对话**: 在历史列表中可以删除特定对话

### 知识库管理

#### 创建知识库

1. **进入知识库页面**
   - 点击左侧菜单"知识库"

2. **创建新知识库**
   - 点击右上角"创建知识库"按钮
   - 填写知识库名称（例如：产品文档）
   - 填写描述（可选）
   - 点击"创建"

3. **知识库命名建议**
   - 使用简短、描述性的名称
   - 按用途分类（如：技术文档、FAQ、销售资料）
   - 避免特殊字符

#### 添加文档

1. **选择知识库**
   - 在左侧列表中点击要操作的知识库

2. **添加文档**
   - 点击"文档列表"标签
   - 点击"添加文档"按钮
   - 填写以下信息：
     - **标题**: 文档的名称
     - **内容**: 文档的完整内容（支持长文本）
     - **来源**: 可选，记录文档来源URL或文件路径

3. **文档内容建议**
   - 每个文档应该聚焦一个主题
   - 内容要清晰、结构化
   - 可以包含：
     - 技术文档
     - FAQ问答
     - 产品说明
     - 操作手册
     - 会议记录

#### 搜索测试

1. **测试检索效果**
   - 选择知识库后，切换到"搜索测试"标签
   - 输入搜索查询
   - 点击"搜索"查看结果

2. **理解搜索结果**
   - 结果按相似度排序
   - 相似度分数越高，匹配度越好
   - 可以根据结果优化文档内容

3. **优化技巧**
   - 如果搜索结果不理想，尝试：
     - 重写问题
     - 添加更多相关文档
     - 优化现有文档的内容

#### 管理知识库

- **查看文档**: 点击知识库查看所有文档
- **删除知识库**: 点击知识库右侧的删除按钮
- **注意**: 删除知识库会同时删除所有文档，操作不可恢复

### 任务规划

#### 创建任务

1. **进入任务页面**
   - 点击左侧菜单"任务规划"

2. **创建新任务**
   - 点击"创建任务"按钮
   - 填写任务信息：
     - **标题**: 任务的简短描述
     - **描述**: 详细的任务需求和目标
   - 点击"创建"

3. **任务描述建议**
   ```
   好的描述示例：
   "开发一个用户登录功能，包括：
   1. 用户名密码验证
   2. 记住登录状态
   3. 忘记密码功能
   4. 社交账号登录
   要求支持手机端和网页端"

   避免：
   "做一个登录"（太简略）
   ```

#### 生成执行计划

1. **为任务生成规划**
   - 选择一个待处理的任务
   - 点击"生成规划"按钮
   - AI会自动分析任务并生成执行计划

2. **查看计划详情**
   - 切换到"执行计划"标签
   - 查看AI生成的详细步骤
   - 每个步骤都有清晰的说明

3. **计划示例**
   ```
   任务：开发用户登录功能
   
   执行计划：
   1. 设计数据库表结构
      - 创建users表
      - 添加必要字段和索引
   
   2. 实现后端API
      - 注册接口
      - 登录接口
      - 登出接口
   
   3. 开发前端页面
      - 登录表单
      - 表单验证
      - 错误提示
   
   4. 集成和测试
      - 单元测试
      - 集成测试
      - 安全测试
   ```

#### 快速规划

1. **无需创建任务的快速规划**
   - 点击"快速规划"按钮
   - 输入任务描述
   - 立即查看生成的规划
   - 适合临时性的任务分析

2. **使用场景**
   - 头脑风暴
   - 快速评估任务复杂度
   - 学习如何分解任务

#### 任务管理

1. **任务状态**
   - 待处理: 新创建的任务
   - 已规划: 已生成执行计划
   - 进行中: 正在执行
   - 已完成: 任务完成
   - 失败: 执行失败

2. **更新状态**
   - 点击任务详情页的"标记完成"按钮
   - 或在任务列表中直接操作

3. **删除任务**
   - 点击任务右侧的删除按钮
   - 确认后删除

## 高级功能

### 工具调用

AI助手可以自动使用以下工具：

1. **知识库搜索**
   - 自动从知识库检索相关信息
   - 示例："根据产品文档，如何配置SSL证书？"

2. **计算器**
   - 执行数学计算
   - 示例："计算 (123 + 456) * 789"

3. **任务规划**
   - 分解复杂任务
   - 示例："帮我规划开发一个博客系统的步骤"

### 上下文管理

1. **多轮对话**
   - AI会记住对话历史
   - 可以引用之前的内容
   - 示例：
     ```
     你：什么是Docker？
     AI：Docker是一个容器化平台...
     你：它的优点是什么？
     AI：Docker的优点包括...（AI理解"它"指Docker）
     ```

2. **清空上下文**
   - 点击"清空对话"重新开始
   - 适合切换话题时使用

### 批量操作

1. **批量添加文档**
   - 准备好文档内容
   - 逐个添加到知识库
   - 建议每次添加后测试搜索效果

2. **导入导出**
   - 目前通过API支持
   - 可以编写脚本批量导入

## 常见问题

### Q1: AI回答不准确怎么办？

**解决方法**:
1. 尝试重新表述问题
2. 提供更多上下文信息
3. 如果涉及专业领域，创建相关知识库
4. 选择合适的知识库进行对话

### Q2: 知识库搜索效果不好？

**解决方法**:
1. 增加文档数量
2. 优化文档内容，使其更结构化
3. 文档不要太长，适当分段
4. 使用"搜索测试"功能验证效果
5. 确保文档内容与查询相关

### Q3: 任务规划太笼统？

**解决方法**:
1. 提供更详细的任务描述
2. 明确说明需求和约束
3. 可以多次生成，选择最佳方案
4. 对生成的计划进行人工调整

### Q4: 系统响应慢？

**可能原因**:
1. 网络延迟（访问OpenAI API）
2. 服务器资源不足
3. 文档过多导致检索慢

**解决方法**:
1. 检查网络连接
2. 升级服务器配置
3. 合理组织知识库，避免单个知识库文档过多

### Q5: 无法访问系统？

**检查项**:
1. 确认Docker服务正在运行
2. 检查端口是否被占用
3. 查看服务日志：`docker-compose logs`
4. 确认浏览器没有缓存问题

## 最佳实践

### 知识库组织

1. **按主题分类**
   ```
   ✓ 好的组织方式：
   - 产品技术文档
   - 用户操作手册
   - 常见问题FAQ
   - 销售话术
   
   ✗ 避免：
   - 把所有文档放在一个知识库
   ```

2. **文档粒度**
   - 每个文档500-2000字为宜
   - 过长的文档应该拆分
   - 过短的文档可以合并

3. **内容质量**
   - 使用清晰的标题和结构
   - 避免重复内容
   - 定期更新过时信息

### 对话技巧

1. **提问方式**
   ```
   ✓ 好的提问：
   "根据我们的产品文档，如何配置HTTPS？需要哪些步骤？"
   
   ✗ 模糊提问：
   "怎么弄HTTPS"
   ```

2. **分步骤询问**
   - 复杂问题分解为多个简单问题
   - 每次聚焦一个主题
   - 利用上下文连续对话

### 任务管理

1. **任务描述**
   - 使用SMART原则（具体、可衡量、可实现、相关、有时限）
   - 包含必要的背景信息
   - 明确预期结果

2. **计划执行**
   - 将AI生成的计划复制到项目管理工具
   - 根据实际情况调整计划
   - 定期更新任务状态

3. **持续优化**
   - 记录好的提示词
   - 总结有效的描述模式
   - 建立团队知识库

### 安全建议

1. **敏感信息**
   - 不要在对话中输入密码、密钥等敏感信息
   - 文档中避免包含个人隐私数据
   - 定期清理不需要的对话记录

2. **访问控制**
   - 如果部署在公网，配置访问限制
   - 使用强密码保护数据库
   - 启用HTTPS加密传输

### 性能优化

1. **知识库管理**
   - 单个知识库文档数控制在1000以内
   - 删除不再使用的知识库
   - 定期整理和更新文档

2. **对话管理**
   - 定期清理历史对话
   - 避免单次对话过长
   - 合理使用清空对话功能

## 使用场景示例

### 场景1: 技术支持

```
1. 创建"产品FAQ"知识库
2. 添加常见问题和解决方案
3. 客服在对话时选择此知识库
4. AI基于FAQ快速回答用户问题
5. 不断补充新的FAQ
```

### 场景2: 项目管理

```
1. 创建项目任务
2. 生成详细执行计划
3. 按计划执行并更新状态
4. 遇到问题时咨询AI
5. 总结经验更新知识库
```

### 场景3: 学习助手

```
1. 创建"学习笔记"知识库
2. 添加课程内容、书籍摘要
3. 学习时向AI提问
4. AI结合知识库深入解答
5. 巩固知识点
```

### 场景4: 代码助手

```
1. 创建"代码规范"和"API文档"知识库
2. 添加团队的编码规范和API说明
3. 开发时咨询最佳实践
4. 快速查找API用法
5. 生成代码实现计划
```

## 键盘快捷键

- `Enter`: 发送消息
- `Shift + Enter`: 换行
- `Ctrl/Cmd + K`: 清空对话（计划中）
- `Esc`: 关闭弹窗

## 获取帮助

如果您遇到问题或有建议：

1. 查看本手册
2. 查看 README.md 和 DEPLOYMENT.md
3. 提交 GitHub Issue
4. 联系技术支持团队

---

**祝您使用愉快！** 🎉

有任何问题欢迎反馈，我们会持续改进系统。

